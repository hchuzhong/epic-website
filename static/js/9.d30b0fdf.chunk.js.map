{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","alt","filename","href","target","tip","History","List"],"mappings":"kVAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAqDMC,EA9CGC,aAAS,WAAO,IACxBC,EAAiBC,cAAjBD,aAWR,OANAE,qBAAU,WACR,OAAO,WACLF,EAAaG,WAEd,IAGD,6BACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAfW,WACfN,EAAaO,QAeTC,SAAUR,EAAaS,WAAaT,EAAaQ,QACjDE,WAAW,GAEX,kBAAC,IAAD,CAAMC,WAAYX,EAAaY,KAAMC,WACnC,SAAAC,GAAI,OACF,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACnB,6BACE,kBAACtB,EAAD,CAAKuB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,IAAKC,IAAI,MAEpD,6BACE,4BAAKP,EAAKK,WAAWG,WAEvB,6BACE,uBAAGC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,IAAKI,OAAO,SAASV,EAAKK,WAAWC,IAAID,WAAWC,SAIjGpB,EAAaS,WAAaT,EAAaQ,SACtC,6BACE,kBAAC,IAAD,CAAMiB,IAAI,8BCvCTC,UATf,WACE,OACE,oCACE,uCACA,kBAACC,EAAD","file":"static/js/9.d30b0fdf.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\nimport { useStores } from '../stores'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport { List, Spin } from 'antd'\nimport { observer } from 'mobx-react';\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`\n\nconst Component = observer(() => {\n  const { HistoryStore } = useStores()\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n\n  useEffect(() => {\n    return () => {\n      HistoryStore.reset()\n    }\n  }, [])\n\n  return (\n    <div>\n      <InfiniteScroll\n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List dataSource={HistoryStore.list} renderItem={\n          item =>\n            <List.Item key={item.id}>\n              <div>\n                <Img src={item.attributes.url.attributes.url} alt=\"\" />\n              </div>\n              <div>\n                <h4>{item.attributes.filename}</h4>\n              </div>\n              <div>\n                <a href={item.attributes.url.attributes.url} target=\"blank\">{item.attributes.url.attributes.url}</a>\n              </div>\n            </List.Item>\n        }>\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\n            <div>\n              <Spin tip=\"加载中\" />\n            </div>\n          )}\n        </List>\n      </InfiniteScroll>\n    </div>\n  )\n})\n\nexport default Component","import React from 'react'\nimport List from  '../components/List'\n\nfunction History() {\n  return (\n    <>\n      <h1>History</h1>\n      <List/>\n    </>\n  )\n}\n\nexport default History"],"sourceRoot":""}